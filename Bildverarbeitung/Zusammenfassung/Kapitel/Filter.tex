\section{Filter}

\begin{definition}[Filter]
Ein Filter $ F $ ist eine Abbildung von einem Signalraum in einen anderen, oder anders formuliert, 
ein Operator, der eine Folge $ c \in l(\Z) $ in $ Fc \in l(\Z) $ abbildet.
\end{definition}

\begin{definition}[Impulsantwort]
Die Impulsantwort eines Filters $ F $ ist definiert als
\[
  f(k) \coloneqq (F \delta)(k), \qquad k \in \Z.
\]
\end{definition}

\begin{remark}[Filtertypen]
Es gibt verschiedene Kategorien von Filtern:
\begin{description}
\item [Energieerhaltender Filter]
  In diesem Fall ist $ F : l_{2}(\Z) \rightarrow l_{2}(\Z) $ so, dass
  \[
    \norm{F}_{2} \coloneqq \sup_{\norm{c}_{2} = 1} \norm{Fc}_{2} = 1.
  \]
\item [Linearer Filter]
  Der Filter ist ein linearer Operator, d.h.\
  \[
    F(\alpha c + \beta c') = \alpha Fc + \beta Fc', \qquad \alpha, \beta \in \R, 
                                                    \quad c, c' \in l(\Z).
  \]
\item [Zeitinvarianter Filter]
  Der Operator ist \emph{stationär}, d.h.\ es ist egal, ob
  \begin{itemize}
  \item das Signal zuerst in der Zeit verschoben wird und dann Operator darauf angewendet wird,
  \item oder zuerst das Signal gefiltert und das Resultat in der Zeit verschoben wird.
  \end{itemize}
  Formal:
  \[
    F(c(\bullet + k)) = (Fc)(\bullet + k), \qquad c \in l(\Z), \quad k \in \Z.
  \]
  Oder kürzer über die Kommutativität
  \[
    F\tau_{k} = \tau_{k}F.
  \]
\item [Kausaler Filter]
  Das Ergebnis des Filters zum Zeitpunkt $ k $ hängt nur von den Eingaben in der Vergangenheit
  (also $ c(j) $ mit $ j \leq k $) ab. Der Filter kann nicht in die Zukunft sehen. Kausalität
  lässt sich auch auffassen als Anforderung an die Impulsantwort des Filters: Für alle $ k > 0 $
  muss $ f(k) = (F\delta)(k) = 0 $ gelten. Einen Filter mit der Eigenschaft $ f(k) = 0 $ für alle
  $ k < 0 $ bezeichnet man übrigens als \emph{antikausal}.
\end{description}
\end{remark}

\begin{remark}[Lineare und zeitinvariante Filter]\leavevmode
\begin{itemize}
\item Lineare und zeitinvariante Filter (sog.\ \emph{LTI-Filter}) können immer realisiert 
werden als \emph{Faltungen mit der Impulsantwort}. Sei also $ c \in l(\R) $ ein gegebenes diskretes 
Signal, dann gilt
\[
  Fc = c * f,
\]
wie man mit ein wenig Rechnerei nachweisen kann: Unser gegebenes Signal lässt sich auch schreiben
als
\[
  c = \sum_{k \in \Z} c(k) \ \delta(\bullet - k) = \sum_{k \in \Z} c(k) \ \tau_{-k} \ \delta
\]
und unter Verwendung der Linearität und Zeitinvarianz ergibt sich schließlich
\begin{align*}
   Fc
&= F \left( \sum_{k \in \Z} c(k) \ \tau_{-k} \ \delta \right) 
 = \sum_{k \in \Z} c(k) \ F(\tau_{-k} \ \delta)
 = \sum_{k \in \Z} c(k) \ \tau_{-k} \ F \delta
 = \sum_{k \in \Z} c(k) \ \tau_{-k} \ f \\
&= \sum_{k \in \Z} c(k) \ f(\bullet - k) = c * f.
\end{align*}
Das bedeutet, ein LTI-Filter lässt sich vollständig durch seine Impulsantwort charakterisieren.
\item Das Tolle daran ist: Dank der Faltung lassen sich LTI-Filter effizient am Rechner über eine 
Multiplikation der Fourier-Transformierten des Filters, der sog.\ \emph{Transferfunktion}, mit
der Fourier-Transformierten des Signals implementieren. Konkret:
\[
  Fc = \left( (Fc)^{\wedge} \right)^{\vee} = \left( (f * c)^{\wedge} \right)^{\vee}
     = \left( \widehat{f} \cdot \widehat{c} \right)^{\vee}
\]
ist sehr schnell! Denn eine Multiplikation ist wesentlich schneller und vor allem auch numerisch
stabiler durchzuführen als eine Faltung. Weiteren Zeitgewinn kann man durch Vorberechnen der
Fourier-Transformation der Impulsantwort herausschlagen. Und nicht zuletzt ist die Darstellung im
Frequenzbereich nützlich (Filterdesign funktioniert so).
\end{itemize}
\end{remark}

Von jetzt an soll die Bezeichnung \emph{digitaler Filter} immer für einen LTI-Filter stehen.

\begin{definition}[Weitere Filtertypen]
Ein digitaler Filter $ F $ heißt
\begin{enumerate}
\item \emph{FIR-Filter} (Finite Impulse Response, Filter mit endlicher Impulsantwort), wenn die
  Impulsantwort endlichen Träger hat, d.h.\ $ F\delta \in l_{00}(\Z) $.
\item \emph{IIR-Filter} (Infinite Impulse Response, Filter mit unendlicher Impulsantwort), wenn die
  Impulsantwort keinen endlichen Träger hat.
\end{enumerate}
\end{definition}

\begin{example}[FIR-Filter in der Praxis]
In der Praxis sind kausale, digitale FIR-Filter weit verbreitet. Was eigentlich nicht sehr 
verwunderlich ist, wenn man bedenkt, dass man ohne all diese Eigenschaften Filter gar nicht
realisieren könnte\footnote{Na gut, das ist natürlich abhängig von der Domäne. So könnte man bei 
Bildern, die man vollständig auf der Festplatte liegen hat, auch sehr gut auf Kausalität 
verzichten. In diesem Fall wäre es sogar schlecht, einen kausalen Filter zu verwenden.}. 
\end{example}